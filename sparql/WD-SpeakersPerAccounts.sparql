# Lists users with their locations and their numbers of records.
# Source: https://lingualibre.org/index.php?title=LinguaLibre:Stats/Speakers&diff=782961&oldid=782826
# Source: https://w.wiki/5ZkA
PREFIX ll:  <https://lingualibre.org/entity/>
PREFIX llt: <https://lingualibre.org/prop/direct/>
PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#>

SELECT DISTINCT ?speakerIdShort ?speakerLabel ?recordist
WHERE {
  SERVICE <https://lingualibre.org/sparql> {
    ?speakerId llt:P2 ll:Q3 ;
               llt:P11 ?recordist .
    OPTIONAL { ?speakerId rdfs:label ?speakerLabel. }

    # Extract QID (e.g. Q445757)
    BIND(STRAFTER(STR(?speakerId), "entity/") AS ?speakerIdShort)
  }
}
ORDER BY ?recordist
